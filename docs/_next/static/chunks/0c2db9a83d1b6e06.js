(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2523,e=>{"use strict";var l=e.i(43476),i=e.i(60446),n=e.i(76525),o=e.i(99112),a=e.i(62106),r=e.i(68757),s=e.i(49721),t=e.i(18566),u=e.i(71645),c=e.i(46696);let d=[{name:"none",file:"",label:"Aucun son"},{name:"beep",file:"sound1.mp3",label:"Bip classique"},{name:"ding",file:"sound2.mp3",label:"Ding"},{name:"bell",file:"sound3.mp3",label:"Cloche"},{name:"bip",file:"Bip.m4a",label:"Bip mae"},{name:"ploc",file:"Ploc.m4a",label:"Ploc mae"},{name:"tut",file:"Tut.m4a",label:"Tut mae"}];function f(){let{setTitle:e}=(0,i.usePageTitle)(),f=(0,t.useRouter)(),[m,p]=(0,u.useState)(null),[h,b]=(0,u.useState)(!1),[g,j]=(0,u.useState)(!1),[y,S]=(0,u.useState)(!0);if((0,u.useEffect)(()=>{e("Son")},[e]),(0,u.useEffect)(()=>{(async()=>{try{let e=await (0,o.getProfile)();if(p(e.son),j(e.premium),!e.premium)return void f.replace("/settings")}catch(e){console.error("Erreur lors du chargement du profil:",e),c.toast.error("Erreur lors du chargement du profil"),f.replace("/settings")}finally{S(!1)}})()},[f]),y||!g)return null;let v=async e=>{b(!0);try{let l=""===e?null:e;await (0,o.updateSound)(l),p(l),(0,a.invalidateSoundCache)(),c.toast.success("Son mis à jour !"),""!==e&&(0,a.playSound)(e)}catch(e){console.error("Erreur lors de la mise à jour du son:",e),c.toast.error("Erreur lors de la mise à jour du son")}finally{b(!1)}};return(0,l.jsx)(l.Fragment,{children:d.map(e=>(0,l.jsxs)("div",{className:"sound-option",children:[(0,l.jsxs)("div",{className:"sound-info",onClick:()=>(0,a.playSound)(e.file),style:{cursor:""!==e.file?"pointer":"default"},children:[""!==e.file&&(0,l.jsx)(s.FontAwesomeIcon,{icon:r.faPlay}),(0,l.jsx)("h3",{children:e.label})]}),(0,l.jsx)("div",{className:"sound-actions",children:(0,l.jsx)(n.default,{variant:m===e.file||null===m&&""===e.file?"icon-filled":"icon-outlined",onClick:()=>v(e.file),disabled:h,style:{minHeight:"2.75rem"},icon:m===e.file||null===m&&""===e.file?(0,l.jsx)(s.FontAwesomeIcon,{icon:r.faCheck}):void 0,children:(m===e.file||null===m&&e.file,"")})})]},e.name))})}e.s(["default",()=>f])}]);