(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82564,e=>{"use strict";var t=e.i(43476);function i(){return(0,t.jsx)("div",{className:"loader-container",children:(0,t.jsxs)("div",{className:"loader-dots",children:[(0,t.jsx)("div",{className:"dot dot-1"}),(0,t.jsx)("div",{className:"dot dot-2"}),(0,t.jsx)("div",{className:"dot dot-3"})]})})}e.s(["default",()=>i])},1206,e=>{"use strict";var t=e.i(43476),i=e.i(71645),s=e.i(76525),n=e.i(49721),a=e.i(68757);let l=(0,i.forwardRef)(({label:e,error:l,fullWidth:r=!1,style:o,value:c,type:u,...d},f)=>{let[p,m]=(0,i.useState)(!1),[x,h]=(0,i.useState)(!1),g=void 0!==c&&""!==c,v="password"===u;return(0,t.jsxs)("div",{className:["ui-input-container",r?"ui-input-container--full":""].join(" "),children:[e&&(0,t.jsx)("label",{className:"ui-input-label",children:e}),(0,t.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,t.jsx)("input",{ref:f,value:c,type:v&&x?"text":u,className:["ui-input",l?"ui-input--error":"",p?"ui-input--focus":"",g?"ui-input--filled":""].join(" "),style:{...o,paddingRight:v?"40px":void 0},onFocus:e=>{m(!0),d.onFocus?.(e)},onBlur:e=>{m(!1),d.onBlur?.(e)},...d}),v&&(0,t.jsx)(s.default,{type:"button",variant:"icon-plain",onClick:()=>h(!x),style:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",zIndex:"100"},"aria-label":x?"Masquer le mot de passe":"Afficher le mot de passe",icon:(0,t.jsx)(n.FontAwesomeIcon,{icon:x?a.faEyeSlash:a.faEye})})]}),l&&(0,t.jsx)("span",{className:"ui-input-error",children:l})]})});l.displayName="Input",e.s(["default",0,l])},41889,e=>{"use strict";var t=e.i(17927);async function i(){let{data:e,error:i}=await t.supabase.from("categorie").select("*").order("nom");if(i)throw i;return e??[]}async function s(){return(await i()).map(e=>({label:e.nom,value:e.id.toString()}))}e.s(["getCategories",()=>i,"getCategoriesForSelect",()=>s])},79627,e=>{"use strict";var t=e.i(43476),i=e.i(76525),s=e.i(18566);function n({icon:e,label:n,right:a,href:l}){let r=(0,s.useRouter)(),o=(0,t.jsxs)("div",{className:"settings-item",children:[(0,t.jsxs)("div",{className:"left",children:[e,(0,t.jsx)("span",{children:n})]}),a&&(0,t.jsx)("div",{className:"right",children:a})]});return l?(0,t.jsx)(i.default,{variant:"plain",align:"left",onClick:()=>void(l&&r.push(l)),style:{padding:0},children:o}):o}e.s(["default",()=>n])},56156,e=>{"use strict";var t=e.i(43476);function i({value:e,onChange:i,options:s}){return(0,t.jsx)("div",{className:"segmented-toggle",children:s.map(s=>(0,t.jsx)("button",{onClick:()=>i(s.value),className:`segmented-btn ${e===s.value?"active":""}`,children:s.label},String(s.value)))})}e.s(["default",()=>i])},71120,e=>{"use strict";var t=e.i(43476),i=e.i(71645),s=e.i(49721),n=e.i(68757);function a({label:e,error:a,fullWidth:l=!1,options:r,placeholder:o,value:c,onChange:u,disabled:d=!1}){let[f,p]=(0,i.useState)(!1),[m,x]=(0,i.useState)(!1),h=(0,i.useRef)(null),g=r.find(e=>e.value===c);return(0,i.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&(p(!1),x(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.jsxs)("div",{className:["ui-input-container",l?"ui-input-container--full":""].join(" "),children:[e&&(0,t.jsx)("label",{className:"ui-input-label",children:e}),(0,t.jsxs)("div",{ref:h,style:{position:"relative"},children:[(0,t.jsxs)("div",{className:["ui-input ui-custom-select",a?"ui-input--error":"",m?"ui-input--focus":"",c?"ui-input--filled":"",d?"ui-custom-select--disabled":""].join(" "),onClick:e=>{e.stopPropagation(),d||p(!f)},onFocus:()=>x(!0),tabIndex:d?-1:0,style:{cursor:d?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[g?.icon&&(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:g.icon},style:{width:"20px",height:"20px",display:"flex",alignItems:"center",flexShrink:0},className:"custom-select-icon"}),(0,t.jsx)("span",{style:{flex:1},children:g?g.label:o||"Sélectionner..."}),(0,t.jsx)(s.FontAwesomeIcon,{icon:n.faChevronDown,style:{transition:"transform 0.2s",transform:f?"rotate(180deg)":"rotate(0deg)",flexShrink:0}})]}),f&&(0,t.jsx)("div",{className:"ui-custom-select-dropdown",onClick:e=>e.stopPropagation(),children:r.map(e=>(0,t.jsxs)("div",{className:["ui-custom-select-option",e.value===c?"ui-custom-select-option--selected":""].join(" "),onClick:t=>{var i;t.stopPropagation(),i=e.value,u?.(i),p(!1),x(!1)},style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.icon&&(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:e.icon},style:{width:"20px",height:"20px",display:"flex",alignItems:"center",flexShrink:0},className:"custom-select-icon"}),(0,t.jsx)("span",{children:e.label})]},e.value))})]}),a&&(0,t.jsx)("span",{className:"ui-input-error",children:a})]})}e.s(["default",()=>a])},35864,e=>{"use strict";var t=e.i(17927);async function i(e=null){if(!(await t.supabase.auth.getUser()).data.user)throw Error("Not authenticated");let s=t.supabase.from("exo").select(`
      id,
      nom,
      svg,
      exo_categorie!inner(
        categorie(
          id,
          nom
        )
      ),
      user_exo_preferences(hidden)
    `),{data:n,error:a}=await s;if(a)throw a;return(n?.filter(t=>!e||(t.exo_categorie?.flatMap(e=>e.categorie)??[]).some(t=>t?.id===e))??[]).map(e=>{let t=e.exo_categorie?.flatMap(e=>e.categorie)??[];return{id:e.id,nom:e.nom,svg:e.svg,hidden:!!e.user_exo_preferences?.[0]?.hidden,categories:t}}).filter(e=>!e.hidden)}async function s(e){return(await i(e)).map(e=>({value:String(e.id),label:e.nom,icon:e.svg||void 0}))}async function n(e,i){let s=(await t.supabase.auth.getUser()).data.user;if(!s)throw Error("Not authenticated");let{error:n}=await t.supabase.from("user_exo_preferences").upsert({id_user:s.id,id_exo:e,hidden:i},{onConflict:"id_user,id_exo"});if(n)throw n}e.s(["getExercisesForSelect",()=>s,"getExercisesWithPreferences",()=>i,"toggleExerciseHidden",()=>n])},50406,e=>{"use strict";var t=e.i(43476),i=e.i(71645),s=e.i(35864),n=e.i(76525),a=e.i(49721),l=e.i(68757),r=e.i(60446),o=e.i(56156),c=e.i(79627),u=e.i(1206),d=e.i(71120),f=e.i(41889),p=e.i(82564),m=e.i(46696);function x(){let[e,x]=(0,i.useState)([]),[h,g]=(0,i.useState)(""),[v,j]=(0,i.useState)(""),[y,w]=(0,i.useState)([]),[b,N]=(0,i.useState)(!0);function S(){(0,s.getExercisesWithPreferences)().then(e=>x(e)).catch(()=>{m.toast.error("Erreur lors du chargement des exercices.")}).finally(()=>N(!1))}let{setTitle:C}=(0,r.usePageTitle)();async function E(e){await (0,s.toggleExerciseHidden)(e.id,!e.hidden),S()}(0,i.useEffect)(()=>{C("Exercices")},[C]),(0,i.useEffect)(()=>{S()},[]),(0,i.useEffect)(()=>{(0,f.getCategoriesForSelect)().then(w)},[]);let _=e.filter(e=>{let t=e.nom.toLowerCase().includes(h.toLowerCase()),i=!v||e.categories&&e.categories.some(e=>e.id===v);return t&&i});return b?(0,t.jsx)(p.default,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.default,{variant:"icon-plain",icon:(0,t.jsx)(a.FontAwesomeIcon,{icon:l.faArrowLeft}),onClick:()=>{window.history.back()}}),(0,t.jsxs)("div",{className:"filters",children:[(0,t.jsx)(u.default,{placeholder:"Rechercher un exercice...",value:h,onChange:e=>g(e.target.value),style:{flex:1},fullWidth:!0}),(0,t.jsx)(d.default,{options:[{label:"Toutes catégories",value:""},...y],value:v,onChange:e=>{j(e)},fullWidth:!0})]}),_.map(e=>(0,t.jsx)(c.default,{icon:e.svg?(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:e.svg},style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},className:"exercise-icon"}):null,label:e.nom+(e.categories?` (${e.categories.map(e=>e.nom).join(", ")})`:""),right:(0,t.jsx)(o.default,{options:[{label:(0,t.jsx)(a.FontAwesomeIcon,{icon:l.faEye}),value:!1},{label:(0,t.jsx)(a.FontAwesomeIcon,{icon:l.faEyeSlash}),value:!0}],value:e.hidden,onChange:()=>E(e)})},e.id))]})}e.s(["default",()=>x])}]);