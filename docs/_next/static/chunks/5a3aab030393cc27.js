(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82564,e=>{"use strict";var t=e.i(43476);function i(){return(0,t.jsx)("div",{className:"loader-container",children:(0,t.jsxs)("div",{className:"loader-dots",children:[(0,t.jsx)("div",{className:"dot dot-1"}),(0,t.jsx)("div",{className:"dot dot-2"}),(0,t.jsx)("div",{className:"dot dot-3"})]})})}e.s(["default",()=>i])},1206,e=>{"use strict";var t=e.i(43476),i=e.i(71645),s=e.i(76525),a=e.i(49721),l=e.i(68757);let o=(0,i.forwardRef)(({label:e,error:o,fullWidth:r=!1,style:n,value:u,type:d,...c},m)=>{let[p,f]=(0,i.useState)(!1),[g,h]=(0,i.useState)(!1),x=void 0!==u&&""!==u,j="password"===d;return(0,t.jsxs)("div",{className:["ui-input-container",r?"ui-input-container--full":""].join(" "),children:[e&&(0,t.jsx)("label",{className:"ui-input-label",children:e}),(0,t.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,t.jsx)("input",{ref:m,value:u,type:j&&g?"text":d,className:["ui-input",o?"ui-input--error":"",p?"ui-input--focus":"",x?"ui-input--filled":""].join(" "),style:{...n,paddingRight:j?"40px":void 0},onFocus:e=>{f(!0),c.onFocus?.(e)},onBlur:e=>{f(!1),c.onBlur?.(e)},...c}),j&&(0,t.jsx)(s.default,{type:"button",variant:"icon-plain",onClick:()=>h(!g),style:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",zIndex:"100"},"aria-label":g?"Masquer le mot de passe":"Afficher le mot de passe",icon:(0,t.jsx)(a.FontAwesomeIcon,{icon:g?l.faEyeSlash:l.faEye})})]}),o&&(0,t.jsx)("span",{className:"ui-input-error",children:o})]})});o.displayName="Input",e.s(["default",0,o])},19036,e=>{"use strict";var t=e.i(43476),i=e.i(71645),s=e.i(99112),a=e.i(76525),l=e.i(1206),o=e.i(81097),r=e.i(29530);function n({data:e}){let[s]=(0,i.useState)(()=>getComputedStyle(document.documentElement).getPropertyValue("--theme-button-outlined-text").trim()||"#4a6cff"),[a]=(0,i.useState)(()=>getComputedStyle(document.documentElement).getPropertyValue("--theme-text").trim()||"#000"),l={labels:e.map(e=>e.date),datasets:[{label:"Poids (kg)",data:e.map(e=>e.poids),borderColor:s,backgroundColor:s+"20",tension:.3}]};return(0,t.jsx)(o.Line,{data:l,options:{responsive:!0,maintainAspectRatio:!0,scales:{x:{ticks:{color:a},grid:{color:a+"33"}},y:{ticks:{color:a},grid:{color:a+"33"}}},plugins:{legend:{labels:{color:a}}}}})}r.Chart.register(r.CategoryScale,r.LinearScale,r.PointElement,r.LineElement,r.Tooltip,r.Legend);var u=e.i(82564),d=e.i(60446),c=e.i(68757),m=e.i(49721),p=e.i(46696),f=e.i(37568);function g(){let[e,o]=(0,i.useState)(!0),[r,g]=(0,i.useState)(!1),[h,x]=(0,i.useState)(null),[j,y]=(0,i.useState)([]),[v,b]=(0,i.useState)(""),[S,N]=(0,i.useState)(""),{refreshProfile:P}=(0,f.useProfileStore)(),{setTitle:C}=(0,d.usePageTitle)();(0,i.useEffect)(()=>{C("Mes informations")},[C]),(0,i.useEffect)(()=>{Promise.all([(0,s.getProfile)(),(0,s.getWeightHistory)()]).then(([e,t])=>{x(e),y(t),b(e?.poids?.toString()||""),N(e?.taille?.toString()||"")}).catch(e=>{p.toast.error(e?.message||"Erreur lors du chargement")}).finally(()=>o(!1))},[]);let w=async()=>{g(!0);try{await (0,s.updateProfile)({poids:v?Number(v):null,taille:S?Number(S):null}),await P();let[e,t]=await Promise.all([(0,s.getProfile)(),(0,s.getWeightHistory)()]);x(e),y(t),p.toast.success("Informations mises Ã  jour")}catch(e){p.toast.error(e?.message||"Erreur lors de la sauvegarde")}finally{g(!1)}};return e?(0,t.jsx)(u.default,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{variant:"icon-plain",onClick:()=>window.history.back(),icon:(0,t.jsx)(m.FontAwesomeIcon,{icon:c.faArrowLeft})}),(0,t.jsxs)("div",{className:"my-infos-stats",children:[(0,t.jsx)(l.default,{type:"number",label:"Poids (kg)",value:v,onChange:e=>b(e.target.value),fullWidth:!0,placeholder:"70"}),(0,t.jsx)(l.default,{type:"number",label:"Taille (cm)",value:S,onChange:e=>N(e.target.value),fullWidth:!0,placeholder:"175"})]}),(0,t.jsx)(a.default,{onClick:w,disabled:r,fullWidth:!0,icon:(0,t.jsx)(m.FontAwesomeIcon,{icon:c.faSave}),children:r?"Enregistrement...":"Enregistrer"}),j.length>0?(0,t.jsxs)("div",{className:"my-infos-graph-container",children:[(0,t.jsx)("h2",{className:"my-infos-graph-title",children:"Historique de poids"}),(0,t.jsx)(n,{data:j})]}):(0,t.jsx)("div",{className:"my-infos-empty",children:"Aucun historique de poids disponible"})]})}e.s(["default",()=>g],19036)}]);