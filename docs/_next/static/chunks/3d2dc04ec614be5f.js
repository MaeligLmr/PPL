(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82564,e=>{"use strict";var t=e.i(43476);function i(){return(0,t.jsx)("div",{className:"loader-container",children:(0,t.jsxs)("div",{className:"loader-dots",children:[(0,t.jsx)("div",{className:"dot dot-1"}),(0,t.jsx)("div",{className:"dot dot-2"}),(0,t.jsx)("div",{className:"dot dot-3"})]})})}e.s(["default",()=>i])},19582,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a="gear",s=[9881,"cog"],r="f013",n="M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0 -.6-160 80 80 0 1 0 .6 160z";i.definition={prefix:"fas",iconName:a,icon:[512,512,s,r,n]},i.faGear=i.definition,i.prefix="fas",i.iconName=a,i.width=512,i.height=512,i.ligatures=s,i.unicode=r,i.svgPathData=n,i.aliases=s},86654,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e.r(19582);i.definition={prefix:a.prefix,iconName:a.iconName,icon:[a.width,a.height,a.aliases,a.unicode,a.svgPathData]},i.faCog=i.definition,i.prefix=a.prefix,i.iconName=a.iconName,i.width=a.width,i.height=a.height,i.ligatures=a.aliases,i.unicode=a.unicode,i.svgPathData=a.svgPathData,i.aliases=a.aliases},2153,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(86654),s=e.i(49721),r=e.i(1544),n=e.i(99112),o=e.i(22016),l=e.i(62106);function c({perf:e}){let i=new Date(e.workout_date).toLocaleDateString("fr-FR");return(0,t.jsxs)(o.default,{href:`/workout/?workout=${e.workout_id}`,className:"tile",onClick:()=>{(0,l.playUserSound)()},children:[(0,t.jsxs)("div",{className:"tile-infos",children:[(0,t.jsx)("p",{className:"tile-header",children:e.exo_nom}),(0,t.jsxs)("p",{className:"tile-subheader",children:["Le ",i]})]}),(0,t.jsx)("div",{className:"tile-perf",children:(0,t.jsxs)("h1",{children:[e.charge," kg"]})})]})}var d=e.i(81097),u=e.i(29530);function m({data:e}){let[a]=(0,i.useState)(()=>getComputedStyle(document.documentElement).getPropertyValue("--theme-button-outlined-text").trim()||"#4a6cff"),[s]=(0,i.useState)(()=>getComputedStyle(document.documentElement).getPropertyValue("--theme-text").trim()||"#000"),r={label:`\xe9volution`,data:e.perfs.map(e=>({x:e.workout_date,y:e.charge})),borderColor:a,backgroundColor:a+"20",tension:.3,pointRadius:4,pointHoverRadius:6,fill:!1},n=e.perfs.map(e=>e.workout_date).sort();return e&&0!==e.perfs.length?(0,t.jsx)(d.Line,{data:{labels:n,datasets:[r]},options:{responsive:!0,maintainAspectRatio:!0,scales:{x:{type:"category",ticks:{color:s,maxTicksLimit:8},grid:{color:s+"33"}},y:{ticks:{color:s},grid:{color:s+"33"},title:{display:!0,text:"Charge (kg)",color:s}}},plugins:{legend:{position:"top",labels:{color:s,boxWidth:20,usePointStyle:!0},tooltip:{mode:"point",intersect:!1,callbacks:{label:function(t){let i=t.raw,a=e.perfs.find(e=>e.workout_date===i.x);return`${e.exo_nom}: ${i.y}kg x ${a?.reps??0} reps`}}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}}):(0,t.jsx)("div",{style:{textAlign:"center",padding:"var(--spacing-20)",color:s},children:"Aucune donnée de performance disponible pour cet exercice"})}function h({items:e,activeKey:i,onChange:a}){return(0,t.jsxs)("div",{className:"tabs-container",children:[(0,t.jsx)("div",{className:"tabs-nav",children:e.map(e=>(0,t.jsx)("button",{className:`tab-button ${i===e.key?"tab-button--active":""}`,onClick:()=>a(e.key),children:e.label},e.key))}),(0,t.jsx)("div",{className:"tab-content",children:e.find(e=>e.key===i)?.content})]})}u.Chart.register(u.CategoryScale,u.LinearScale,u.PointElement,u.LineElement,u.Tooltip,u.Legend);var p=e.i(76525),x=e.i(18566),f=e.i(60446),g=e.i(82564),v=e.i(46696);function j(){let[e,o]=(0,i.useState)(!0),[l,d]=(0,i.useState)(null),[u,j]=(0,i.useState)([]),[y,b]=(0,i.useState)([]),[N,k]=(0,i.useState)("list"),P=(0,x.useRouter)(),{setTitle:C}=(0,f.usePageTitle)();(0,i.useEffect)(()=>{C("Profil")},[C]),(0,i.useEffect)(()=>{(0,n.getProfile)().then(e=>{d(e)}).catch(()=>{v.toast.error("Erreur lors du chargement du profil.")}).finally(()=>o(!1)),(0,n.getBestPerfs)().then(e=>{j(e)}).catch(()=>{v.toast.error("Erreur lors du chargement des meilleures performances.")}),(0,n.getExoPerfs)().then(e=>{b(e??[])}).catch(()=>{v.toast.error("Erreur lors du chargement des performances par exercice.")})},[]);let S=[{key:"list",label:"Liste",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"performances-title",children:"Meilleures performances"}),(0,t.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"var(--spacing-10)"},children:u.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)(c,{perf:e})},e.exo_id))})]})},{key:"graph",label:"Graphique",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"performances-title",children:"Évolution des performances"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-20)"},children:[y.map(e=>(0,t.jsxs)("div",{style:{background:"var(--theme-tile-bg)",paddingBottom:"var(--spacing-20)",borderBottom:"1px solid var(--theme-tile-border)"},children:[(0,t.jsx)("h3",{style:{marginBottom:"var(--spacing-15)",color:"var(--theme-title-text)"},children:e.exo_nom}),(0,t.jsx)(m,{data:e})]},e.exo_id)),0===y.length&&(0,t.jsx)("div",{style:{textAlign:"center",padding:"var(--spacing-20)",color:"var(--theme-text)"},children:"Aucune donnée de performance disponible"})]})]})}];return e?(0,t.jsx)("div",{className:"content",children:(0,t.jsx)(g.default,{})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("section",{className:"flex py-4",children:[(0,t.jsx)("div",{className:"profile-avatar",children:(0,t.jsx)(r.default,{profile:l,dimensions:16,hoverDisabled:!0})}),(0,t.jsx)(p.default,{variant:"icon-plain",icon:(0,t.jsx)(s.FontAwesomeIcon,{icon:a.faCog}),onClick:()=>{P.push("/settings")}})]}),(0,t.jsx)("section",{className:"performances-section",children:(0,t.jsx)(h,{items:S,activeKey:N,onChange:e=>k(e)})})]})}e.s(["default",()=>j],2153)}]);