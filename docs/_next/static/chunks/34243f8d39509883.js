(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1206,e=>{"use strict";var t=e.i(43476),l=e.i(71645);let a=(0,l.forwardRef)(({label:e,error:a,fullWidth:i=!1,style:u,value:n,...s},r)=>{let[o,c]=(0,l.useState)(!1),d=void 0!==n&&""!==n;return(0,t.jsxs)("div",{className:["ui-input-container",i?"ui-input-container--full":""].join(" "),children:[e&&(0,t.jsx)("label",{className:"ui-input-label",children:e}),(0,t.jsx)("input",{ref:r,value:n,className:["ui-input",a?"ui-input--error":"",o?"ui-input--focus":"",d?"ui-input--filled":""].join(" "),style:u,onFocus:e=>{c(!0),s.onFocus?.(e)},onBlur:e=>{c(!1),s.onBlur?.(e)},...s}),a&&(0,t.jsx)("span",{className:"ui-input-error",children:a})]})});a.displayName="Input",e.s(["default",0,a])},63937,e=>{"use strict";let t;var l=e.i(43476),a=e.i(71645),i=e.i(18566),u=e.i(22016);let n=e=>{let t,l=new Set,a=(e,a)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=a?a:"object"!=typeof i||null===i)?i:Object.assign({},t,i),l.forEach(l=>l(t,e))}},i=()=>t,u={setState:a,getState:i,getInitialState:()=>n,subscribe:e=>(l.add(e),()=>l.delete(e))},n=t=e(a,i,u);return u},s=e=>{let t=e?n(e):n,l=e=>(function(e,t=e=>e){let l=a.default.useSyncExternalStore(e.subscribe,a.default.useCallback(()=>t(e.getState()),[e,t]),a.default.useCallback(()=>t(e.getInitialState()),[e,t]));return a.default.useDebugValue(l),l})(t,e);return Object.assign(l,t),l};var r=e.i(42365);let o=(t=e=>({user:null,loading:!1,async init(){let{data:t}=await r.getSession();e({user:t.session?.user??null,loading:!1})},async login(t,l){e({loading:!0});try{let{data:a,error:i}=await r.login(t,l);if(i||e({user:a.user}),i)throw i}finally{e({loading:!1})}},async logout(){await r.signOut(),e({user:null})},async signUp(t,l){e({loading:!0});try{let{data:a,error:i}=await r.signUp(t,l);if(i||e({user:a.user}),i)throw i}finally{e({loading:!1})}}}))?s(t):s;var c=e.i(76525),d=e.i(1206);function f(){let e=(0,i.useRouter)(),[t,n]=(0,a.useState)(""),[s,r]=(0,a.useState)(""),{loading:f,signUp:h}=o(),[p,g]=(0,a.useState)(null),m=async l=>{l.preventDefault(),g(null);try{await h(t,s),e.replace("/")}catch(e){g(e?.message||"Erreur inconnue")}};return(0,l.jsxs)("main",{className:"auth-container",children:[(0,l.jsx)("h1",{className:"auth-title",children:"Créer un compte"}),(0,l.jsxs)("form",{onSubmit:m,className:"auth-form",children:[(0,l.jsx)(d.default,{type:"email",label:"Email",value:t,onChange:e=>n(e.target.value),required:!0,fullWidth:!0,placeholder:"votre.email@exemple.com"}),(0,l.jsx)(d.default,{type:"password",label:"Mot de passe",value:s,onChange:e=>r(e.target.value),required:!0,fullWidth:!0,minLength:6,placeholder:"••••••••"}),(0,l.jsx)(c.default,{type:"submit",disabled:f,fullWidth:!0,children:f?"Création...":"Créer le compte"}),p&&(0,l.jsx)("p",{className:"auth-error",children:p})]}),(0,l.jsxs)("p",{className:"auth-link-text",children:["Déjà un compte ? ",(0,l.jsx)(u.default,{href:"/auth/login",className:"auth-link",children:"Se connecter"})]})]})}e.s(["default",()=>f],63937)}]);