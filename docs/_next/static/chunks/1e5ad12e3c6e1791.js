(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1206,e=>{"use strict";var i=e.i(43476),a=e.i(71645);let t=(0,a.forwardRef)(({label:e,error:t,fullWidth:n=!1,style:s,value:o,...l},r)=>{let[u,c]=(0,a.useState)(!1),d=void 0!==o&&""!==o;return(0,i.jsxs)("div",{className:["ui-input-container",n?"ui-input-container--full":""].join(" "),children:[e&&(0,i.jsx)("label",{className:"ui-input-label",children:e}),(0,i.jsx)("input",{ref:r,value:o,className:["ui-input",t?"ui-input--error":"",u?"ui-input--focus":"",d?"ui-input--filled":""].join(" "),style:s,onFocus:e=>{c(!0),l.onFocus?.(e)},onBlur:e=>{c(!1),l.onBlur?.(e)},...l}),t&&(0,i.jsx)("span",{className:"ui-input-error",children:t})]})});t.displayName="Input",e.s(["default",0,t])},56156,e=>{"use strict";var i=e.i(43476);function a({value:e,onChange:a,options:t}){return(0,i.jsx)("div",{className:"segmented-toggle",children:t.map(t=>(0,i.jsx)("button",{onClick:()=>a(t.value),className:`segmented-btn ${e===t.value?"active":""}`,children:t.label},String(t.value)))})}e.s(["default",()=>a])},62388,(e,i,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t="chevron-down",n=[],s="f078",o="M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z";a.definition={prefix:"fas",iconName:t,icon:[448,512,n,s,o]},a.faChevronDown=a.definition,a.prefix="fas",a.iconName=t,a.width=448,a.height=512,a.ligatures=n,a.unicode=s,a.svgPathData=o,a.aliases=n},50406,e=>{"use strict";var i=e.i(43476),a=e.i(71645),t=e.i(17927);async function n(){if(!(await t.supabase.auth.getUser()).data.user)throw Error("Not authenticated");let{data:e,error:i}=await t.supabase.from("exo").select(`
      id,
      nom,
      svg,
      exo_categorie(
        categorie(
          id,
          nom
        )
      ),
      user_exo_preferences(hidden)
    `);if(i)throw i;return(e??[]).map(e=>{let i=e.exo_categorie?.flatMap(e=>e.categorie)??[];return{id:e.id,nom:e.nom,svg:e.svg,hidden:!!e.user_exo_preferences?.[0]?.hidden,categories:i}})}async function s(e,i){let a=(await t.supabase.auth.getUser()).data.user;if(!a)throw Error("Not authenticated");let{error:n}=await t.supabase.from("user_exo_preferences").upsert({id_user:a.id,id_exo:e,hidden:i},{onConflict:"id_user,id_exo"});if(n)throw n}var o=e.i(76525),l=e.i(49721),r=e.i(68757),u=e.i(60446),c=e.i(56156),d=e.i(79627),p=e.i(1206),f=e.i(62388);let h=(0,a.forwardRef)(({label:e,error:t,fullWidth:n=!1,options:s,placeholder:o,style:r,value:u,...c},d)=>{let[p,h]=(0,a.useState)(!1),m=void 0!==u&&""!==u;return(0,i.jsxs)("div",{className:["ui-input-container",n?"ui-input-container--full":""].join(" "),children:[e&&(0,i.jsx)("label",{className:"ui-input-label",children:e}),(0,i.jsxs)("div",{className:"ui-select-wrapper",style:{position:"relative"},children:[(0,i.jsxs)("select",{ref:d,value:u,className:["ui-input",t?"ui-input--error":"",p?"ui-input--focus":"",m?"ui-input--filled":""].join(" "),style:{...r,appearance:"none",WebkitAppearance:"none",MozAppearance:"none",paddingRight:36},onFocus:e=>{h(!0),c.onFocus?.(e)},onBlur:e=>{h(!1),c.onBlur?.(e)},...c,children:[o&&(0,i.jsx)("option",{value:"",disabled:!0,hidden:!0,children:o}),s.map(e=>(0,i.jsx)("option",{value:e.value,className:"ui-select-option",children:e.label},e.value))]}),(0,i.jsx)("span",{className:"ui-select-chevron",children:(0,i.jsx)(l.FontAwesomeIcon,{icon:f.faChevronDown})})]}),t&&(0,i.jsx)("span",{className:"ui-input-error",children:t})]})});function m(){let[e,t]=(0,a.useState)([]),[f,m]=(0,a.useState)(""),[v,x]=(0,a.useState)("");async function g(){t(await n())}let{setTitle:j}=(0,u.usePageTitle)();async function w(e){await s(e.id,!e.hidden),g()}(0,a.useEffect)(()=>{j("Exercices")},[j]),(0,a.useEffect)(()=>{n().then(t)},[]);let b=Array.from(new Set(e.flatMap(e=>e.categories?.map(e=>e.nom)??[]))),N=e.filter(e=>{let i=e.nom.toLowerCase().includes(f.toLowerCase()),a=!v||e.categories&&e.categories.some(e=>e.nom===v);return i&&a});return(0,i.jsxs)("div",{children:[(0,i.jsx)(o.default,{variant:"icon-plain",icon:(0,i.jsx)(l.FontAwesomeIcon,{icon:r.faArrowLeft}),onClick:()=>{window.history.back()}}),(0,i.jsxs)("div",{className:"filters",children:[(0,i.jsx)(p.default,{placeholder:"Rechercher un exercice...",value:f,onChange:e=>m(e.target.value),style:{flex:1},fullWidth:!0}),(0,i.jsx)(h,{options:[{label:"Toutes catÃ©gories",value:""},...b.map(e=>({label:e,value:e}))],value:v,onChange:e=>x(e.target.value),fullWidth:!0})]}),N.map(e=>(0,i.jsx)(d.default,{label:e.nom+(e.categories?` (${e.categories.map(e=>e.nom).join(", ")})`:""),right:(0,i.jsx)(c.default,{options:[{label:(0,i.jsx)(l.FontAwesomeIcon,{icon:r.faEye}),value:!1},{label:(0,i.jsx)(l.FontAwesomeIcon,{icon:r.faEyeSlash}),value:!0}],value:e.hidden,onChange:()=>w(e)})},e.id))]})}h.displayName="Select",e.s(["default",()=>m],50406)}]);