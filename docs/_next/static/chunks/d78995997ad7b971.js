(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1206,e=>{"use strict";var t=e.i(43476),l=e.i(71645),a=e.i(76525),i=e.i(49721),s=e.i(68757);let n=(0,l.forwardRef)(({label:e,error:n,fullWidth:r=!1,style:u,value:o,type:d,...c},p)=>{let[h,f]=(0,l.useState)(!1),[m,g]=(0,l.useState)(!1),v=void 0!==o&&""!==o,x="password"===d;return(0,t.jsxs)("div",{className:["ui-input-container",r?"ui-input-container--full":""].join(" "),children:[e&&(0,t.jsx)("label",{className:"ui-input-label",children:e}),(0,t.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,t.jsx)("input",{ref:p,value:o,type:x&&m?"text":d,className:["ui-input",n?"ui-input--error":"",h?"ui-input--focus":"",v?"ui-input--filled":""].join(" "),style:{...u,paddingRight:x?"40px":void 0},onFocus:e=>{f(!0),c.onFocus?.(e)},onBlur:e=>{f(!1),c.onBlur?.(e)},...c}),x&&(0,t.jsx)(a.default,{type:"button",variant:"icon-plain",onClick:()=>g(!m),style:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",zIndex:"100"},"aria-label":m?"Masquer le mot de passe":"Afficher le mot de passe",icon:(0,t.jsx)(i.FontAwesomeIcon,{icon:m?s.faEyeSlash:s.faEye})})]}),n&&(0,t.jsx)("span",{className:"ui-input-error",children:n})]})});n.displayName="Input",e.s(["default",0,n])},19299,e=>{"use strict";var t=e.i(68834),l=e.i(42365);let a=(0,t.create)(e=>({user:null,loading:!1,async init(){let{data:t}=await l.getSession();e({user:t.session?.user??null,loading:!1})},async login(t,a){e({loading:!0});try{let{data:i,error:s}=await l.login(t,a);if(s||e({user:i.user}),s)throw s}finally{e({loading:!1})}},async logout(){await l.signOut(),e({user:null})},async signUp(t,a){e({loading:!0});try{let{data:i,error:s}=await l.signUp(t,a);if(s||e({user:i.user}),s)throw s}finally{e({loading:!1})}}}));e.s(["useAuthStore",0,a])},92144,e=>{"use strict";var t=e.i(43476),l=e.i(71645),a=e.i(57688);let i=(0,l.forwardRef)(({label:e,fullWidth:i=!1,onFileChange:s,currentImageUrl:n,size:r=120,className:u,...o},d)=>{let[c,p]=(0,l.useState)(null),h=(0,l.useRef)(null),f=c||n;return(0,t.jsxs)("div",{className:`ui-input-file-avatar-container${i?" ui-input-file-avatar-container--full":""}`,children:[e&&(0,t.jsx)("label",{className:"ui-input-label",children:e}),(0,t.jsxs)("div",{className:"ui-input-file-avatar",style:{width:`${r}px`,height:`${r}px`},onClick:()=>{h.current?.click()},children:[f?(0,t.jsx)("div",{className:"ui-input-file-avatar-image",children:(0,t.jsx)(a.default,{src:f,alt:"Avatar",fill:!0,style:{objectFit:"cover"}})}):(0,t.jsx)("div",{className:"ui-input-file-avatar-placeholder",children:(0,t.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"60",cy:"40",r:"20",fill:"#9CA3AF"}),(0,t.jsx)("path",{d:"M10 120c0-28 22-48 50-48s50 20 50 48",fill:"#9CA3AF"})]})}),(0,t.jsx)("div",{className:"ui-input-file-avatar-overlay",children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",fill:"white"})})})]}),(0,t.jsx)("input",{ref:h,type:"file",accept:"image/*",className:"ui-input-file-hidden",onChange:e=>{let t=e.target.files?.[0]||null;if(t){let e=new FileReader;e.onloadend=()=>{p(e.result)},e.readAsDataURL(t)}else p(null);s?.(t)},...o})]})});i.displayName="InputFile",e.s(["default",0,i])},63937,e=>{"use strict";var t=e.i(43476),l=e.i(71645),a=e.i(22016),i=e.i(19299),s=e.i(76525),n=e.i(1206),r=e.i(92144),u=e.i(99112),o=e.i(46696);function d(){let[e,d]=(0,l.useState)(""),[c,p]=(0,l.useState)(""),[h,f]=(0,l.useState)(""),[m,g]=(0,l.useState)(null),[v,x]=(0,l.useState)(""),[j,w]=(0,l.useState)(""),[y,b]=(0,l.useState)(""),{loading:C,signUp:N}=(0,i.useAuthStore)(),S=async t=>{t.preventDefault();try{if(j!==y)return void o.toast.error("Les mots de passe ne correspondent pas");await N(v,j),await (0,u.updateProfile)({prenom:e||null,nom:c||null,pseudo:h||null,mail:v},m||void 0),o.toast.success("Compte créé avec succès"),window.location.href="/PPL"}catch(e){o.toast.error(e?.message||"Erreur inconnue")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{className:"auth-title",children:"Créer un compte"}),(0,t.jsxs)("form",{onSubmit:S,className:"auth-form",children:[(0,t.jsx)(r.default,{label:"Photo de profil",onFileChange:g,fullWidth:!0}),(0,t.jsx)(n.default,{type:"text",label:"Prénom",value:e,onChange:e=>d(e.target.value),fullWidth:!0,placeholder:"Votre prénom"}),(0,t.jsx)(n.default,{type:"text",label:"Nom",value:c,onChange:e=>p(e.target.value),fullWidth:!0,placeholder:"Votre nom"}),(0,t.jsx)(n.default,{type:"text",label:"Pseudo",value:h,onChange:e=>f(e.target.value),fullWidth:!0,placeholder:"Votre pseudo"}),(0,t.jsx)(n.default,{type:"email *",label:"Email",value:v,onChange:e=>x(e.target.value),required:!0,fullWidth:!0,placeholder:"votre.email@exemple.com"}),(0,t.jsx)(n.default,{type:"password",label:"Mot de passe *",value:j,onChange:e=>w(e.target.value),required:!0,fullWidth:!0,minLength:6}),(0,t.jsx)(n.default,{type:"password",label:"Confirmer le mot de passe *",value:y,onChange:e=>b(e.target.value),required:!0,fullWidth:!0,minLength:6}),(0,t.jsx)(s.default,{type:"submit",disabled:C,fullWidth:!0,children:C?"Création...":"Créer le compte"})]}),(0,t.jsxs)("p",{className:"auth-link-text",children:["Déjà un compte ? ",(0,t.jsx)(a.default,{href:"/auth/login",className:"auth-link",children:"Se connecter"})]})]})}e.s(["default",()=>d])}]);