(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1206,e=>{"use strict";var t=e.i(43476),l=e.i(71645),i=e.i(76525),a=e.i(49721),s=e.i(68757);let r=(0,l.forwardRef)(({label:e,error:r,fullWidth:n=!1,style:o,value:u,type:c,...d},f)=>{let[p,h]=(0,l.useState)(!1),[m,v]=(0,l.useState)(!1),x=void 0!==u&&""!==u,g="password"===c;return(0,t.jsxs)("div",{className:["ui-input-container",n?"ui-input-container--full":""].join(" "),children:[e&&(0,t.jsx)("label",{className:"ui-input-label",children:e}),(0,t.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,t.jsx)("input",{ref:f,value:u,type:g&&m?"text":c,className:["ui-input",r?"ui-input--error":"",p?"ui-input--focus":"",x?"ui-input--filled":""].join(" "),style:{...o,paddingRight:g?"40px":void 0},onFocus:e=>{h(!0),d.onFocus?.(e)},onBlur:e=>{h(!1),d.onBlur?.(e)},...d}),g&&(0,t.jsx)(i.default,{type:"button",variant:"icon-plain",onClick:()=>v(!m),style:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",zIndex:"100"},"aria-label":m?"Masquer le mot de passe":"Afficher le mot de passe",icon:(0,t.jsx)(a.FontAwesomeIcon,{icon:m?s.faEyeSlash:s.faEye})})]}),r&&(0,t.jsx)("span",{className:"ui-input-error",children:r})]})});r.displayName="Input",e.s(["default",0,r])},38889,(e,t,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var i="arrow-left",a=[8592],s="f060",r="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z";l.definition={prefix:"fas",iconName:i,icon:[512,512,a,s,r]},l.faArrowLeft=l.definition,l.prefix="fas",l.iconName=i,l.width=512,l.height=512,l.ligatures=a,l.unicode=s,l.svgPathData=r,l.aliases=a},92144,e=>{"use strict";var t=e.i(43476),l=e.i(71645),i=e.i(57688);let a=(0,l.forwardRef)(({label:e,fullWidth:a=!1,onFileChange:s,currentImageUrl:r,size:n=120,className:o,...u},c)=>{let[d,f]=(0,l.useState)(null),p=(0,l.useRef)(null),h=d||r;return(0,t.jsxs)("div",{className:`ui-input-file-avatar-container${a?" ui-input-file-avatar-container--full":""}`,children:[e&&(0,t.jsx)("label",{className:"ui-input-label",children:e}),(0,t.jsxs)("div",{className:"ui-input-file-avatar",style:{width:`${n}px`,height:`${n}px`},onClick:()=>{p.current?.click()},children:[h?(0,t.jsx)("div",{className:"ui-input-file-avatar-image",children:(0,t.jsx)(i.default,{src:h,alt:"Avatar",fill:!0,style:{objectFit:"cover"}})}):(0,t.jsx)("div",{className:"ui-input-file-avatar-placeholder",children:(0,t.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"60",cy:"40",r:"20",fill:"#9CA3AF"}),(0,t.jsx)("path",{d:"M10 120c0-28 22-48 50-48s50 20 50 48",fill:"#9CA3AF"})]})}),(0,t.jsx)("div",{className:"ui-input-file-avatar-overlay",children:(0,t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",fill:"white"})})})]}),(0,t.jsx)("input",{ref:p,type:"file",accept:"image/*",className:"ui-input-file-hidden",onChange:e=>{let t=e.target.files?.[0]||null;if(t){let e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(t)}else f(null);s?.(t)},...u})]})});a.displayName="InputFile",e.s(["default",0,a])},73054,e=>{"use strict";var t=e.i(43476),l=e.i(71645),i=e.i(99112),a=e.i(76525),s=e.i(1206),r=e.i(92144),n=e.i(60446),o=e.i(38889),u=e.i(49721),c=e.i(46696),d=e.i(37568);function f(){let[e,f]=(0,l.useState)(!0),[p,h]=(0,l.useState)(!1),[m,v]=(0,l.useState)(""),[x,g]=(0,l.useState)(""),[j,w]=(0,l.useState)(""),[y,b]=(0,l.useState)(""),[S,C]=(0,l.useState)(""),[N,A]=(0,l.useState)(null),[P,F]=(0,l.useState)(""),[E,R]=(0,l.useState)(""),{refreshProfile:B}=(0,d.useProfileStore)(),{setTitle:I}=(0,n.usePageTitle)();(0,l.useEffect)(()=>{I("Modifier mon profil")},[I]),(0,l.useEffect)(()=>{(0,i.getProfile)().then(e=>{v(e.prenom??""),g(e.nom??""),w(e.pseudo??""),b(e.mail??""),C(e.photo_url??""),F(e.poids?.toString()??""),R(e.taille?.toString()??"")}).catch(e=>{c.toast.error(e?.message||"Erreur lors du chargement du profil")}).finally(()=>f(!1))},[]);let M=async e=>{e.preventDefault(),h(!0);try{await (0,i.updateProfile)({prenom:m||null,nom:x||null,pseudo:j||null,mail:y,photo_url:S||null},N||void 0),await B(),c.toast.success("Profil mis à jour")}catch(e){c.toast.error(e?.message||"Erreur lors de la sauvegarde")}finally{h(!1)}};return e?(0,t.jsx)("div",{children:"Chargement..."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{variant:"icon-plain",onClick:()=>window.history.back(),icon:(0,t.jsx)(u.FontAwesomeIcon,{icon:o.faArrowLeft})}),(0,t.jsxs)("form",{onSubmit:M,children:[(0,t.jsx)(r.default,{label:"Photo de profil",onFileChange:A,currentImageUrl:S,fullWidth:!0}),(0,t.jsx)(s.default,{type:"text",label:"Prénom",value:m,onChange:e=>v(e.target.value),fullWidth:!0,placeholder:"Votre prénom"}),(0,t.jsx)(s.default,{type:"text",label:"Nom",value:x,onChange:e=>g(e.target.value),fullWidth:!0,placeholder:"Votre nom"}),(0,t.jsx)(s.default,{type:"text",label:"Pseudo",value:j,onChange:e=>w(e.target.value),fullWidth:!0,placeholder:"Votre pseudo"}),(0,t.jsx)(s.default,{type:"email",label:"Email",value:y,onChange:e=>b(e.target.value),fullWidth:!0,placeholder:"votre.email@exemple.com"}),(0,t.jsx)(a.default,{type:"submit",disabled:p,fullWidth:!0,children:p?"Enregistrement...":"Enregistrer les modifications"})]})]})}e.s(["default",()=>f])}]);