(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1206,e=>{"use strict";var l=e.i(43476),t=e.i(71645);let i=(0,t.forwardRef)(({label:e,error:i,fullWidth:a=!1,style:s,value:r,...n},u)=>{let[o,c]=(0,t.useState)(!1),d=void 0!==r&&""!==r;return(0,l.jsxs)("div",{className:["ui-input-container",a?"ui-input-container--full":""].join(" "),children:[e&&(0,l.jsx)("label",{className:"ui-input-label",children:e}),(0,l.jsx)("input",{ref:u,value:r,className:["ui-input",i?"ui-input--error":"",o?"ui-input--focus":"",d?"ui-input--filled":""].join(" "),style:s,onFocus:e=>{c(!0),n.onFocus?.(e)},onBlur:e=>{c(!1),n.onBlur?.(e)},...n}),i&&(0,l.jsx)("span",{className:"ui-input-error",children:i})]})});i.displayName="Input",e.s(["default",0,i])},38889,(e,l,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="arrow-left",a=[8592],s="f060",r="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 105.4-105.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z";t.definition={prefix:"fas",iconName:i,icon:[512,512,a,s,r]},t.faArrowLeft=t.definition,t.prefix="fas",t.iconName=i,t.width=512,t.height=512,t.ligatures=a,t.unicode=s,t.svgPathData=r,t.aliases=a},92144,e=>{"use strict";var l=e.i(43476),t=e.i(71645),i=e.i(57688);let a=(0,t.forwardRef)(({label:e,fullWidth:a=!1,onFileChange:s,currentImageUrl:r,size:n=120,className:u,...o},c)=>{let[d,f]=(0,t.useState)(null),h=(0,t.useRef)(null),p=d||r;return(0,l.jsxs)("div",{className:`ui-input-file-avatar-container${a?" ui-input-file-avatar-container--full":""}`,children:[e&&(0,l.jsx)("label",{className:"ui-input-label",children:e}),(0,l.jsxs)("div",{className:"ui-input-file-avatar",style:{width:`${n}px`,height:`${n}px`},onClick:()=>{h.current?.click()},children:[p?(0,l.jsx)("div",{className:"ui-input-file-avatar-image",children:(0,l.jsx)(i.default,{src:p,alt:"Avatar",fill:!0,style:{objectFit:"cover"}})}):(0,l.jsx)("div",{className:"ui-input-file-avatar-placeholder",children:(0,l.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"60",cy:"40",r:"20",fill:"#9CA3AF"}),(0,l.jsx)("path",{d:"M10 120c0-28 22-48 50-48s50 20 50 48",fill:"#9CA3AF"})]})}),(0,l.jsx)("div",{className:"ui-input-file-avatar-overlay",children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",fill:"white"})})})]}),(0,l.jsx)("input",{ref:h,type:"file",accept:"image/*",className:"ui-input-file-hidden",onChange:e=>{let l=e.target.files?.[0]||null;if(l){let e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(l)}else f(null);s?.(l)},...o})]})});a.displayName="InputFile",e.s(["default",0,a])},73054,e=>{"use strict";var l=e.i(43476),t=e.i(71645),i=e.i(99112),a=e.i(76525),s=e.i(1206),r=e.i(92144),n=e.i(60446),u=e.i(38889),o=e.i(49721),c=e.i(46696),d=e.i(37568);function f(){let[e,f]=(0,t.useState)(!0),[h,p]=(0,t.useState)(!1),[m,v]=(0,t.useState)(""),[x,g]=(0,t.useState)(""),[j,w]=(0,t.useState)(""),[y,b]=(0,t.useState)(""),[S,N]=(0,t.useState)(""),[C,P]=(0,t.useState)(null),[A,F]=(0,t.useState)(""),[E,R]=(0,t.useState)(""),{refreshProfile:B}=(0,d.useProfileStore)(),{setTitle:W}=(0,n.usePageTitle)();(0,t.useEffect)(()=>{W("Modifier mon profil")},[W]),(0,t.useEffect)(()=>{(0,i.getProfile)().then(e=>{v(e.prenom??""),g(e.nom??""),w(e.pseudo??""),b(e.mail??""),N(e.photo_url??""),F(e.poids?.toString()??""),R(e.taille?.toString()??"")}).catch(e=>{c.toast.error(e?.message||"Erreur lors du chargement du profil")}).finally(()=>f(!1))},[]);let M=async e=>{e.preventDefault(),p(!0);try{await (0,i.updateProfile)({prenom:m||null,nom:x||null,pseudo:j||null,mail:y,photo_url:S||null},C||void 0),await B(),c.toast.success("Profil mis à jour")}catch(e){c.toast.error(e?.message||"Erreur lors de la sauvegarde")}finally{p(!1)}};return e?(0,l.jsx)("div",{children:"Chargement..."}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.default,{variant:"icon-plain",onClick:()=>window.history.back(),icon:(0,l.jsx)(o.FontAwesomeIcon,{icon:u.faArrowLeft})}),(0,l.jsxs)("form",{onSubmit:M,children:[(0,l.jsx)(r.default,{label:"Photo de profil",onFileChange:P,currentImageUrl:S,fullWidth:!0}),(0,l.jsx)(s.default,{type:"text",label:"Prénom",value:m,onChange:e=>v(e.target.value),fullWidth:!0,placeholder:"Votre prénom"}),(0,l.jsx)(s.default,{type:"text",label:"Nom",value:x,onChange:e=>g(e.target.value),fullWidth:!0,placeholder:"Votre nom"}),(0,l.jsx)(s.default,{type:"text",label:"Pseudo",value:j,onChange:e=>w(e.target.value),fullWidth:!0,placeholder:"Votre pseudo"}),(0,l.jsx)(s.default,{type:"email",label:"Email",value:y,onChange:e=>b(e.target.value),fullWidth:!0,placeholder:"votre.email@exemple.com"}),(0,l.jsx)(a.default,{type:"submit",disabled:h,fullWidth:!0,children:h?"Enregistrement...":"Enregistrer les modifications"})]})]})}e.s(["default",()=>f])}]);