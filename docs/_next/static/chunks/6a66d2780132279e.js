(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1206,e=>{"use strict";var i=e.i(43476),t=e.i(71645);let a=(0,t.forwardRef)(({label:e,error:a,fullWidth:s=!1,style:n,value:r,...l},o)=>{let[u,c]=(0,t.useState)(!1),d=void 0!==r&&""!==r;return(0,i.jsxs)("div",{className:["ui-input-container",s?"ui-input-container--full":""].join(" "),children:[e&&(0,i.jsx)("label",{className:"ui-input-label",children:e}),(0,i.jsx)("input",{ref:o,value:r,className:["ui-input",a?"ui-input--error":"",u?"ui-input--focus":"",d?"ui-input--filled":""].join(" "),style:n,onFocus:e=>{c(!0),l.onFocus?.(e)},onBlur:e=>{c(!1),l.onBlur?.(e)},...l}),a&&(0,i.jsx)("span",{className:"ui-input-error",children:a})]})});a.displayName="Input",e.s(["default",0,a])},41889,e=>{"use strict";var i=e.i(17927);async function t(){let{data:e,error:t}=await i.supabase.from("categorie").select("*").order("nom");if(t)throw t;return e??[]}async function a(){return(await t()).map(e=>({label:e.nom,value:e.id.toString()}))}e.s(["getCategories",()=>t,"getCategoriesForSelect",()=>a])},79627,e=>{"use strict";var i=e.i(43476),t=e.i(76525),a=e.i(18566);function s({icon:e,label:s,right:n,href:r}){let l=(0,a.useRouter)(),o=(0,i.jsxs)("div",{className:"settings-item",children:[(0,i.jsxs)("div",{className:"left",children:[e,(0,i.jsx)("span",{children:s})]}),n&&(0,i.jsx)("div",{className:"right",children:n})]});return r?(0,i.jsx)(t.default,{variant:"plain",onClick:()=>void(r&&l.push(r)),style:{padding:0},children:o}):o}e.s(["default",()=>s])},56156,e=>{"use strict";var i=e.i(43476);function t({value:e,onChange:t,options:a}){return(0,i.jsx)("div",{className:"segmented-toggle",children:a.map(a=>(0,i.jsx)("button",{onClick:()=>t(a.value),className:`segmented-btn ${e===a.value?"active":""}`,children:a.label},String(a.value)))})}e.s(["default",()=>t])},62388,(e,i,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="chevron-down",s=[],n="f078",r="M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z";t.definition={prefix:"fas",iconName:a,icon:[448,512,s,n,r]},t.faChevronDown=t.definition,t.prefix="fas",t.iconName=a,t.width=448,t.height=512,t.ligatures=s,t.unicode=n,t.svgPathData=r,t.aliases=s},71120,e=>{"use strict";var i=e.i(43476),t=e.i(71645),a=e.i(49721),s=e.i(62388);let n=(0,t.forwardRef)(({label:e,error:n,fullWidth:r=!1,options:l,placeholder:o,style:u,value:c,defaultValue:d,...f},p)=>{let[h,g]=(0,t.useState)(!1),m=void 0!==c&&""!==c;return(0,i.jsxs)("div",{className:["ui-input-container",r?"ui-input-container--full":""].join(" "),children:[e&&(0,i.jsx)("label",{className:"ui-input-label",children:e}),(0,i.jsxs)("div",{className:"ui-select-wrapper",style:{position:"relative"},children:[(0,i.jsxs)("select",{ref:p,value:c,defaultValue:d,className:["ui-input",n?"ui-input--error":"",h?"ui-input--focus":"",m?"ui-input--filled":""].join(" "),style:{...u,appearance:"none",WebkitAppearance:"none",MozAppearance:"none",paddingRight:36},onFocus:e=>{g(!0),f.onFocus?.(e)},onBlur:e=>{g(!1),f.onBlur?.(e)},...f,children:[o&&(0,i.jsx)("option",{value:"",disabled:!0,hidden:!0,children:o}),l.map(e=>(0,i.jsx)("option",{value:e.value,className:"ui-select-option",children:e.label},e.value))]}),(0,i.jsx)("span",{className:"ui-select-chevron",children:(0,i.jsx)(a.FontAwesomeIcon,{icon:s.faChevronDown})})]}),n&&(0,i.jsx)("span",{className:"ui-input-error",children:n})]})});n.displayName="Select",e.s(["default",0,n])},35864,e=>{"use strict";var i=e.i(17927);async function t(){if(!(await i.supabase.auth.getUser()).data.user)throw Error("Not authenticated");let{data:e,error:t}=await i.supabase.from("exo").select(`
      id,
      nom,
      svg,
      exo_categorie(
        categorie(
          id,
          nom
        )
      ),
      user_exo_preferences(hidden)
    `);if(t)throw t;return(e??[]).map(e=>{let i=e.exo_categorie?.flatMap(e=>e.categorie)??[];return{id:e.id,nom:e.nom,svg:e.svg,hidden:!!e.user_exo_preferences?.[0]?.hidden,categories:i}})}async function a(e,t){let a=(await i.supabase.auth.getUser()).data.user;if(!a)throw Error("Not authenticated");let{error:s}=await i.supabase.from("user_exo_preferences").upsert({id_user:a.id,id_exo:e,hidden:t},{onConflict:"id_user,id_exo"});if(s)throw s}e.s(["getExercisesWithPreferences",()=>t,"toggleExerciseHidden",()=>a])},50406,e=>{"use strict";var i=e.i(43476),t=e.i(71645),a=e.i(35864),s=e.i(76525),n=e.i(49721),r=e.i(68757),l=e.i(60446),o=e.i(56156),u=e.i(79627),c=e.i(1206),d=e.i(71120),f=e.i(41889);function p(){let[e,p]=(0,t.useState)([]),[h,g]=(0,t.useState)(""),[m,v]=(0,t.useState)(""),[x,j]=(0,t.useState)([]);async function w(){p(await (0,a.getExercisesWithPreferences)())}let{setTitle:b}=(0,l.usePageTitle)();async function N(e){await (0,a.toggleExerciseHidden)(e.id,!e.hidden),w()}(0,t.useEffect)(()=>{b("Exercices")},[b]),(0,t.useEffect)(()=>{(0,a.getExercisesWithPreferences)().then(e=>p(e))},[]),(0,t.useEffect)(()=>{(0,f.getCategoriesForSelect)().then(j)},[]);let y=e.filter(e=>{let i=e.nom.toLowerCase().includes(h.toLowerCase()),t=!m||e.categories&&e.categories.some(e=>e.nom===m);return i&&t});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.default,{variant:"icon-plain",icon:(0,i.jsx)(n.FontAwesomeIcon,{icon:r.faArrowLeft}),onClick:()=>{window.history.back()}}),(0,i.jsxs)("div",{className:"filters",children:[(0,i.jsx)(c.default,{placeholder:"Rechercher un exercice...",value:h,onChange:e=>g(e.target.value),style:{flex:1},fullWidth:!0}),(0,i.jsx)(d.default,{options:[{label:"Toutes catÃ©gories",value:""},...x],value:m,onChange:e=>v(e.target.value),fullWidth:!0})]}),y.map(e=>(0,i.jsx)(u.default,{label:e.nom+(e.categories?` (${e.categories.map(e=>e.nom).join(", ")})`:""),right:(0,i.jsx)(o.default,{options:[{label:(0,i.jsx)(n.FontAwesomeIcon,{icon:r.faEye}),value:!1},{label:(0,i.jsx)(n.FontAwesomeIcon,{icon:r.faEyeSlash}),value:!0}],value:e.hidden,onChange:()=>N(e)})},e.id))]})}e.s(["default",()=>p])}]);