(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1206,e=>{"use strict";var l=e.i(43476),t=e.i(71645);let a=(0,t.forwardRef)(({label:e,error:a,fullWidth:i=!1,style:s,value:n,...u},r)=>{let[o,c]=(0,t.useState)(!1),d=void 0!==n&&""!==n;return(0,l.jsxs)("div",{className:["ui-input-container",i?"ui-input-container--full":""].join(" "),children:[e&&(0,l.jsx)("label",{className:"ui-input-label",children:e}),(0,l.jsx)("input",{ref:r,value:n,className:["ui-input",a?"ui-input--error":"",o?"ui-input--focus":"",d?"ui-input--filled":""].join(" "),style:s,onFocus:e=>{c(!0),u.onFocus?.(e)},onBlur:e=>{c(!1),u.onBlur?.(e)},...u}),a&&(0,l.jsx)("span",{className:"ui-input-error",children:a})]})});a.displayName="Input",e.s(["default",0,a])},19299,e=>{"use strict";var l=e.i(68834),t=e.i(42365);let a=(0,l.create)(e=>({user:null,loading:!1,async init(){let{data:l}=await t.getSession();e({user:l.session?.user??null,loading:!1})},async login(l,a){e({loading:!0});try{let{data:i,error:s}=await t.login(l,a);if(s||e({user:i.user}),s)throw s}finally{e({loading:!1})}},async logout(){await t.signOut(),e({user:null})},async signUp(l,a){e({loading:!0});try{let{data:i,error:s}=await t.signUp(l,a);if(s||e({user:i.user}),s)throw s}finally{e({loading:!1})}}}));e.s(["useAuthStore",0,a])},92144,e=>{"use strict";var l=e.i(43476),t=e.i(71645),a=e.i(57688);let i=(0,t.forwardRef)(({label:e,fullWidth:i=!1,onFileChange:s,currentImageUrl:n,size:u=120,className:r,...o},c)=>{let[d,h]=(0,t.useState)(null),p=(0,t.useRef)(null),f=d||n;return(0,l.jsxs)("div",{className:`ui-input-file-avatar-container${i?" ui-input-file-avatar-container--full":""}`,children:[e&&(0,l.jsx)("label",{className:"ui-input-label",children:e}),(0,l.jsxs)("div",{className:"ui-input-file-avatar",style:{width:`${u}px`,height:`${u}px`},onClick:()=>{p.current?.click()},children:[f?(0,l.jsx)("div",{className:"ui-input-file-avatar-image",children:(0,l.jsx)(a.default,{src:f,alt:"Avatar",fill:!0,style:{objectFit:"cover"}})}):(0,l.jsx)("div",{className:"ui-input-file-avatar-placeholder",children:(0,l.jsxs)("svg",{width:"80",height:"80",viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("circle",{cx:"60",cy:"40",r:"20",fill:"#9CA3AF"}),(0,l.jsx)("path",{d:"M10 120c0-28 22-48 50-48s50 20 50 48",fill:"#9CA3AF"})]})}),(0,l.jsx)("div",{className:"ui-input-file-avatar-overlay",children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",fill:"white"})})})]}),(0,l.jsx)("input",{ref:p,type:"file",accept:"image/*",className:"ui-input-file-hidden",onChange:e=>{let l=e.target.files?.[0]||null;if(l){let e=new FileReader;e.onloadend=()=>{h(e.result)},e.readAsDataURL(l)}else h(null);s?.(l)},...o})]})});i.displayName="InputFile",e.s(["default",0,i])},63937,e=>{"use strict";var l=e.i(43476),t=e.i(71645),a=e.i(18566),i=e.i(22016),s=e.i(19299),n=e.i(76525),u=e.i(1206),r=e.i(92144),o=e.i(99112),c=e.i(46696);function d(){let e=(0,a.useRouter)(),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[m,x]=(0,t.useState)(""),[g,v]=(0,t.useState)(null),[j,y]=(0,t.useState)(""),[w,N]=(0,t.useState)(""),[C,b]=(0,t.useState)(!1),{loading:S,signUp:A}=(0,s.useAuthStore)(),F=async e=>{e.preventDefault();try{await A(j,w),await (0,o.updateProfile)({prenom:d||null,nom:p||null,pseudo:m||null,mail:j},g||void 0),c.toast.success("Compte créé avec succès"),b(!0)}catch(e){c.toast.error(e?.message||"Erreur inconnue")}};return C?(0,l.jsxs)("div",{className:"auth-confirmation",children:[(0,l.jsx)("h1",{className:"auth-title",children:"Vérifiez votre email"}),(0,l.jsxs)("p",{className:"auth-confirmation-text",children:["Un email de confirmation a été envoyé à ",(0,l.jsx)("strong",{children:j}),"."]}),(0,l.jsx)("p",{className:"auth-confirmation-text",children:"Veuillez cliquer sur le lien dans l'email pour activer votre compte."}),(0,l.jsx)(n.default,{onClick:()=>e.push("/auth/login"),fullWidth:!0,style:{marginTop:"1rem"},children:"Aller à la page de connexion"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"auth-title",children:"Créer un compte"}),(0,l.jsxs)("form",{onSubmit:F,className:"auth-form",children:[(0,l.jsx)(r.default,{label:"Photo de profil",onFileChange:v,fullWidth:!0}),(0,l.jsx)(u.default,{type:"text",label:"Prénom",value:d,onChange:e=>h(e.target.value),fullWidth:!0,placeholder:"Votre prénom"}),(0,l.jsx)(u.default,{type:"text",label:"Nom",value:p,onChange:e=>f(e.target.value),fullWidth:!0,placeholder:"Votre nom"}),(0,l.jsx)(u.default,{type:"text",label:"Pseudo",value:m,onChange:e=>x(e.target.value),fullWidth:!0,placeholder:"Votre pseudo"}),(0,l.jsx)(u.default,{type:"email",label:"Email",value:j,onChange:e=>y(e.target.value),required:!0,fullWidth:!0,placeholder:"votre.email@exemple.com"}),(0,l.jsx)(u.default,{type:"password",label:"Mot de passe",value:w,onChange:e=>N(e.target.value),required:!0,fullWidth:!0,minLength:6,placeholder:"••••••••"}),(0,l.jsx)(n.default,{type:"submit",disabled:S,fullWidth:!0,children:S?"Création...":"Créer le compte"})]}),(0,l.jsxs)("p",{className:"auth-link-text",children:["Déjà un compte ? ",(0,l.jsx)(i.default,{href:"/auth/login",className:"auth-link",children:"Se connecter"})]})]})}e.s(["default",()=>d])}]);