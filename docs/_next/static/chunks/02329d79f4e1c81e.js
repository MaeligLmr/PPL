(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1206,e=>{"use strict";var i=e.i(43476),s=e.i(71645);let t=(0,s.forwardRef)(({label:e,error:t,fullWidth:a=!1,style:r,value:n,...o},l)=>{let[u,c]=(0,s.useState)(!1),d=void 0!==n&&""!==n;return(0,i.jsxs)("div",{className:["ui-input-container",a?"ui-input-container--full":""].join(" "),children:[e&&(0,i.jsx)("label",{className:"ui-input-label",children:e}),(0,i.jsx)("input",{ref:l,value:n,className:["ui-input",t?"ui-input--error":"",u?"ui-input--focus":"",d?"ui-input--filled":""].join(" "),style:r,onFocus:e=>{c(!0),o.onFocus?.(e)},onBlur:e=>{c(!1),o.onBlur?.(e)},...o}),t&&(0,i.jsx)("span",{className:"ui-input-error",children:t})]})});t.displayName="Input",e.s(["default",0,t])},79390,e=>{"use strict";var i=e.i(17927);async function s(e,s,t){console.log("Fetching workouts for user",e,"from",s,"to",t);let{data:a,error:r}=await i.supabase.from("workout").select("*, categorie: id_category(id,nom,svg)").eq("id_user",e).order("date",{ascending:!1}).range(s,t);if(r)throw r;return a}async function t(e){let{data:s,error:t}=await i.supabase.from("workout").select(`
      *,
      categorie: id_category (
        id,
        nom
      ),
      workout_line (
        *,
        serie (*,
          rep (*)
        )
      )
    `).eq("id",e).single();if(t)throw t;return s}async function a(e,s,t){let{data:a,error:r}=await i.supabase.from("workout").insert([{id_user:e,date:s,id_category:t}]).select().single();if(r)throw r;return a}e.s(["createWorkout",()=>a,"getWorkoutById",()=>t,"getWorkoutsPaginated",()=>s])},62388,(e,i,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t="chevron-down",a=[],r="f078",n="M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z";s.definition={prefix:"fas",iconName:t,icon:[448,512,a,r,n]},s.faChevronDown=s.definition,s.prefix="fas",s.iconName=t,s.width=448,s.height=512,s.ligatures=a,s.unicode=r,s.svgPathData=n,s.aliases=a},71120,e=>{"use strict";var i=e.i(43476),s=e.i(71645),t=e.i(49721),a=e.i(62388);let r=(0,s.forwardRef)(({label:e,error:r,fullWidth:n=!1,options:o,placeholder:l,style:u,value:c,defaultValue:d,...f},p)=>{let[h,x]=(0,s.useState)(!1),m=void 0!==c&&""!==c;return(0,i.jsxs)("div",{className:["ui-input-container",n?"ui-input-container--full":""].join(" "),children:[e&&(0,i.jsx)("label",{className:"ui-input-label",children:e}),(0,i.jsxs)("div",{className:"ui-select-wrapper",style:{position:"relative"},children:[(0,i.jsxs)("select",{ref:p,value:c,defaultValue:d,className:["ui-input",r?"ui-input--error":"",h?"ui-input--focus":"",m?"ui-input--filled":""].join(" "),style:{...u,appearance:"none",WebkitAppearance:"none",MozAppearance:"none",paddingRight:36},onFocus:e=>{x(!0),f.onFocus?.(e)},onBlur:e=>{x(!1),f.onBlur?.(e)},...f,children:[l&&(0,i.jsx)("option",{value:"",disabled:!0,hidden:!0,children:l}),o.map(e=>(0,i.jsx)("option",{value:e.value,className:"ui-select-option",children:e.label},e.value))]}),(0,i.jsx)("span",{className:"ui-select-chevron",children:(0,i.jsx)(t.FontAwesomeIcon,{icon:a.faChevronDown})})]}),r&&(0,i.jsx)("span",{className:"ui-input-error",children:r})]})});r.displayName="Select",e.s(["default",0,r])},35864,e=>{"use strict";var i=e.i(17927);async function s(){if(!(await i.supabase.auth.getUser()).data.user)throw Error("Not authenticated");let{data:e,error:s}=await i.supabase.from("exo").select(`
      id,
      nom,
      svg,
      exo_categorie(
        categorie(
          id,
          nom
        )
      ),
      user_exo_preferences(hidden)
    `);if(s)throw s;return(e??[]).map(e=>{let i=e.exo_categorie?.flatMap(e=>e.categorie)??[];return{id:e.id,nom:e.nom,svg:e.svg,hidden:!!e.user_exo_preferences?.[0]?.hidden,categories:i}})}async function t(e,s){let t=(await i.supabase.auth.getUser()).data.user;if(!t)throw Error("Not authenticated");let{error:a}=await i.supabase.from("user_exo_preferences").upsert({id_user:t.id,id_exo:e,hidden:s},{onConflict:"id_user,id_exo"});if(a)throw a}e.s(["getExercisesWithPreferences",()=>s,"toggleExerciseHidden",()=>t])},44425,e=>{"use strict";var i=e.i(43476),s=e.i(71645),t=e.i(18566),a=e.i(79390),r=e.i(60446),n=e.i(76525),o=e.i(49721),l=e.i(68757),u=e.i(1206);function c({set:e,index:s}){return(0,i.jsxs)("div",{className:"set-row",children:[(0,i.jsxs)("span",{children:["Série ",s+1]}),e.reps.map(e=>(0,i.jsxs)("div",{className:"rep-row",children:[(0,i.jsx)(u.default,{label:"Charge (kg)",type:"number",defaultValue:e.charge}),(0,i.jsx)(u.default,{label:"Reps",type:"number",defaultValue:e.qte})]},e.id))]})}var d=e.i(71120),f=e.i(35864);function p({exercise:e}){let[t,a]=(0,s.useState)(!1),[r,u]=(0,s.useState)([]);return(0,s.useEffect)(()=>{(0,f.getExercisesWithPreferences)().then(e=>{u(e)})},[]),(0,i.jsxs)("div",{className:"exercise-card",children:[(0,i.jsxs)("div",{className:"exercise-header",children:["if (isEditing) ",(0,i.jsx)(d.default,{options:r,defaultValue:e.exercise.id,onChange:e=>{e.target.value}})," else ",(0,i.jsx)("span",{children:e.exercise.nom}),(0,i.jsx)(n.default,{variant:"icon-plain",icon:(0,i.jsx)(o.FontAwesomeIcon,{icon:l.faPen}),onClick:()=>a(!t)})]}),e.sets.map((e,s)=>(0,i.jsx)(c,{set:e,index:s},e.id)),(0,i.jsx)("button",{className:"add-set",children:"+ Nouvelle série"})]})}function h(){let e=(0,t.useSearchParams)(),u=(0,t.useRouter)(),{setTitle:c}=(0,r.usePageTitle)(),[d,f]=(0,s.useState)(null),[h,x]=(0,s.useState)(!0),[m,g]=(0,s.useState)(null),j=e.get("workout");return((0,s.useEffect)(()=>{j&&(async()=>{try{x(!0);let e=await (0,a.getWorkoutById)(j);f(e),c(`S\xe9ance du ${new Date(e.date).toLocaleDateString("fr-FR")}`)}catch(e){g(e?.message||"Erreur lors du chargement")}finally{x(!1)}})()},[j,c]),h)?(0,i.jsx)("div",{className:"content",children:"Chargement..."}):m||!d?(0,i.jsxs)("div",{className:"content",children:[(0,i.jsxs)("p",{children:["Erreur: ",m||"Séance non trouvée"]}),(0,i.jsx)(n.default,{variant:"outlined",onClick:()=>u.back(),children:"Retour"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"tag",children:d.categorie?.nom||"Séance"}),(0,i.jsxs)("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[d.workout_line&&d.workout_line.length>0?d.workout_line.map(e=>(0,i.jsx)(p,{exercise:e},e.id)):(0,i.jsx)("p",{children:"Aucun exercice enregistré"}),(0,i.jsx)(n.default,{variant:"filled",leftIcon:(0,i.jsx)(o.FontAwesomeIcon,{icon:l.faPlus}),onClick:()=>{}})]})]})}e.s(["default",()=>h],44425)}]);